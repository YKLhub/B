!function(e,t,f,n){function u(e){return"string"===f.type(e)}function g(e,t){return t&&u(e)&&0<e.indexOf("%")&&(e=m.getViewport()[t]/100*parseInt(e,10)),Math.round(e)+"px"}var i=f(e),c=f(t),m=f.fancybox=function(){m.open.apply(this,arguments)},o=!1,s=t.createTouch!==n;f.extend(m,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!s,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(f.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){m.close(!0),e&&!f.isArray(e)&&(e=e instanceof f?f(e).get():[e]),m.isActive=!0,m.opts=f.extend(!0,{},m.defaults,t),f.isPlainObject(t)&&t.keys!==n&&(m.opts.keys=!!t.keys&&f.extend({},m.defaults.keys,t.keys)),m.group=e,m._start(m.opts.index||0)},cancel:function(){m.coming&&!1===m.trigger("onCancel")||(m.coming=null,m.hideLoading(),m.ajaxLoad&&m.ajaxLoad.abort(),m.ajaxLoad=null,m.imgPreload&&(m.imgPreload.onload=m.imgPreload.onabort=m.imgPreload.onerror=null))},close:function(e){m.cancel(),m.current&&!1!==m.trigger("beforeClose")&&(m.unbindEvents(),!m.isOpen||e&&!0===e[0]?(f(".fancybox-wrap").stop().trigger("onReset").remove(),m._afterZoomOut()):(m.isOpen=m.isOpened=!1,f(".fancybox-item, .fancybox-nav").remove(),m.wrap.stop(!0).removeClass("fancybox-opened"),m.inner.css("overflow","hidden"),m.transitions[m.current.closeMethod]()))},play:function(e){function t(){clearTimeout(m.player.timer)}function n(){t(),m.current&&m.player.isActive&&(m.player.timer=setTimeout(m.next,m.current.playSpeed))}function i(){t(),f("body").unbind(".player"),m.player.isActive=!1,m.trigger("onPlayEnd")}m.player.isActive||e&&!1===e[0]?i():m.current&&(m.current.loop||m.current.index<m.group.length-1)&&(m.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":i,"beforeLoad.player":t}),n(),m.trigger("onPlayStart"))},next:function(){m.current&&m.jumpto(m.current.index+1)},prev:function(){m.current&&m.jumpto(m.current.index-1)},jumpto:function(e){m.current&&(e=parseInt(e,10),1<m.group.length&&m.current.loop&&(e>=m.group.length?e=0:e<0&&(e=m.group.length-1)),m.group[e]!==n&&(m.cancel(),m._start(e)))},reposition:function(e,t){m.isOpen&&(t=m._getPosition(t),e&&"scroll"===e.type?(delete t.position,m.wrap.stop(!0,!0).animate(t,200)):m.wrap.css(t))},update:function(n){m.isOpen&&(o||setTimeout(function(){var e=m.current,t=!n||"orientationchange"===n.type;o&&(o=!1,e)&&(n&&"scroll"===n.type&&!t||(e.autoSize&&"iframe"!==e.type&&(m.inner.height("auto"),e.height=m.inner.height()),(e.autoResize||t)&&m._setDimension(),e.canGrow&&"iframe"!==e.type&&m.inner.height("auto")),(e.autoCenter||t)&&m.reposition(n),m.trigger("onUpdate"))},200),o=!0)},toggle:function(){m.isOpen&&(m.current.fitToView=!m.current.fitToView,m.update())},hideLoading:function(){c.unbind("keypress.fb"),f("#fancybox-loading").remove()},showLoading:function(){m.hideLoading(),c.bind("keypress.fb",function(e){27===e.keyCode&&(e.preventDefault(),m.cancel())}),f('<div id="fancybox-loading"><div></div></div>').click(m.cancel).appendTo("body")},getViewport:function(){return{x:i.scrollLeft(),y:i.scrollTop(),w:s&&e.innerWidth?e.innerWidth:i.width(),h:s&&e.innerHeight?e.innerHeight:i.height()}},unbindEvents:function(){m.wrap&&m.wrap.unbind(".fb"),c.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var e=m.current,n=e.keys;e&&(i.bind("resize.fb orientationchange.fb"+(e.autoCenter&&!e.fixed?" scroll.fb":""),m.update),n&&c.bind("keydown.fb",function(e){var t=e.target||e.srcElement;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||t&&(t.type||f(t).is("[contenteditable]"))||(t=e.keyCode,-1<f.inArray(t,n.close)?(m.close(),e.preventDefault()):-1<f.inArray(t,n.next)?(m.next(),e.preventDefault()):-1<f.inArray(t,n.prev)&&(m.prev(),e.preventDefault()))}),f.fn.mousewheel&&e.mouseWheel&&1<m.group.length&&m.wrap.bind("mousewheel.fb",function(e,t){var n=e.target||null;0===t||n&&0!==n.clientHeight&&(n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth)||(e.preventDefault(),m[0<t?"prev":"next"]())}))},trigger:function(n,e){var t,i=e||m[-1<f.inArray(n,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(i){if(!1===(t=f.isFunction(i[n])?i[n].apply(i,Array.prototype.slice.call(arguments,1)):t))return!1;i.helpers&&f.each(i.helpers,function(e,t){t&&f.isPlainObject(m.helpers[e])&&f.isFunction(m.helpers[e][n])&&m.helpers[e][n](t,i)}),f.event.trigger(n+".fb")}},isImage:function(e){return u(e)&&e.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var n,t,i,o={},a=m.group[e]||null;if(a&&(a.nodeType||a instanceof f)&&(n=!0,f.metadata&&(o=f(a).metadata())),o=f.extend(!0,{},m.opts,{index:e,element:a},f.isPlainObject(a)?a:o),f.each(["href","title","content","type"],function(e,t){o[t]=m.opts[t]||n&&f(a).attr(t)||o[t]||null}),"number"==typeof o.margin&&(o.margin=[o.margin,o.margin,o.margin,o.margin]),o.modal&&f.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),m.coming=o,!1===m.trigger("beforeLoad"))m.coming=null;else switch(t=o.type,e=o.href||a,t||(!(t=n?(t=f(a).data("fancybox-type"))||((t=a.className.match(/fancybox\.(\w+)/))?t[1]:null):t)&&u(e)&&(m.isImage(e)?t="image":m.isSWF(e)?t="swf":e.match(/^#/)&&(t="inline")),t=t||(n?"inline":"html"),o.type=t),"inline"===t||"html"===t?(o.content||(o.content="inline"===t?f(u(e)?e.replace(/.*(?=#[^\s]+$)/,""):e):a),o.content&&o.content.length||(t=null)):e||(t=null),"ajax"===t&&u(e)&&(e=(i=e.split(/\s+/,2)).shift(),o.selector=i.shift()),o.href=e,o.group=m.group,o.isDom=n,t){case"image":m._loadImage();break;case"ajax":m._loadAjax();break;case"inline":case"iframe":case"swf":case"html":m._afterLoad();break;default:m._error("type")}},_error:function(e){m.hideLoading(),f.extend(m.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:e,content:m.coming.tpl.error}),m._afterLoad()},_loadImage:function(){var e=m.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,m.coming.width=this.width,m.coming.height=this.height,m._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,m._error("image")},e.src=m.coming.href,e.complete!==n&&e.complete||m.showLoading()},_loadAjax:function(){m.showLoading(),m.ajaxLoad=f.ajax(f.extend({},m.coming.ajax,{url:m.coming.href,error:function(e,t){m.coming&&"abort"!==t?m._error("ajax",e):m.hideLoading()},success:function(e,t){"success"===t&&(m.coming.content=e,m._afterLoad())}}))},_preloadImages:function(){var e,t,n,i=m.group,o=m.current,a=i.length,r=Math.min(o.preload,a-1);if(o.preload&&!(i.length<2))for(n=1;n<=r;n+=1)t=(e=i[(o.index+n)%a]).href||f(e).attr("href")||e,"image"!==e.type&&!m.isImage(t)||((new Image).src=t)},_afterLoad:function(){m.hideLoading(),m.coming&&!1!==m.trigger("afterLoad",m.current)?(m.isOpened?(f(".fancybox-item, .fancybox-nav").remove(),m.wrap.stop(!0).removeClass("fancybox-opened"),m.inner.css("overflow","hidden"),m.transitions[m.current.prevMethod]()):(f(".fancybox-wrap").stop().trigger("onReset").remove(),m.trigger("afterClose")),m.unbindEvents(),m.isOpen=!1,m.current=m.coming,m.wrap=f(m.current.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+m.current.type+" fancybox-tmp "+m.current.wrapCSS).appendTo("body"),m.skin=f(".fancybox-skin",m.wrap).css("padding",g(m.current.padding)),m.outer=f(".fancybox-outer",m.wrap),m.inner=f(".fancybox-inner",m.wrap),m._setContent()):m.coming=!1},_setContent:function(){var e=m.current,t=e.content,n=e.type,i=e.minWidth,o=e.minHeight,a=e.maxWidth,r=e.maxHeight;switch(n){case"inline":case"ajax":case"html":e.selector?t=f("<div>").html(t).find(e.selector):t instanceof f&&(t.parent().hasClass("fancybox-inner")&&t.parents(".fancybox-wrap").unbind("onReset"),t=t.show().detach(),f(m.wrap).bind("onReset",function(){t.appendTo("body").hide()})),e.autoSize&&(i=f('<div class="fancybox-wrap '+m.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:g(i,"w"),minHeight:g(o,"h"),maxWidth:g(a,"w"),maxHeight:g(r,"h")}).append(t),e.width=i.width(),e.height=i.height(),i.width(m.current.width),i.height()>e.height&&(i.width(e.width+1),e.width=i.width(),e.height=i.height()),t=i.contents().detach(),i.remove());break;case"image":t=e.tpl.image.replace("{href}",e.href),e.aspectRatio=!0;break;case"swf":t=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href);break;case"iframe":t=f(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",e.scrolling).attr("src",e.href),e.scrolling=s?"scroll":"auto"}"image"!==n&&"swf"!==n||(e.autoSize=!1,e.scrolling="visible"),"iframe"===n&&e.autoSize?(m.showLoading(),m._setDimension(),m.inner.css("overflow",e.scrolling),t.bind({onCancel:function(){f(this).unbind(),m._afterZoomOut()},load:function(){m.hideLoading();try{this.contentWindow.document.location&&(m.current.height=f(this).contents().find("body").height())}catch(e){m.current.autoSize=!1}m[m.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(m.inner)):(m.inner.append(t),m._beforeShow())},_beforeShow:function(){m.coming=null,m.trigger("beforeShow"),m._setDimension(),m.wrap.hide().removeClass("fancybox-tmp"),m.bindEvents(),m._preloadImages(),m.transitions[m.isOpened?m.current.nextMethod:m.current.openMethod]()},_setDimension:function(){var e,t=m.wrap,n=m.inner,i=m.current,o=m.getViewport(),a=i.margin,r=2*i.padding,s=i.width,c=i.height,l=i.maxWidth+r,p=i.maxHeight+r,d=i.minWidth+r,h=i.minHeight+r;if(o.w-=a[1]+a[3],o.h-=a[0]+a[2],a=(s=u(s)&&0<s.indexOf("%")?(o.w-r)*parseFloat(s)/100:s)/(c=u(c)&&0<c.indexOf("%")?(o.h-r)*parseFloat(c)/100:c),s+=r,c+=r,i.fitToView&&(l=Math.min(o.w,l),p=Math.min(o.h,p)),i.aspectRatio?(c=(s=p<(c=l<s?((s=l)-r)/a+r:c)?((c=p)-r)*a+r:s)<d?((s=d)-r)/a+r:c)<h&&(s=((c=h)-r)*a+r):(s=Math.max(d,Math.min(s,l)),c=Math.max(h,Math.min(c,p))),s=Math.round(s),c=Math.round(c),f(t.add(n)).width("auto").height("auto"),n.width(s-r).height(c-r),t.width(s),e=t.height(),l<s||p<e)for(;(l<s||p<e)&&d<s&&h<e;)c-=10,i.aspectRatio?(s=Math.round((c-r)*a+r))<d&&(c=((s=d)-r)/a+r):s-=10,n.width(s-r).height(c-r),t.width(s),e=t.height();i.dim={width:g(s),height:g(e)},i.canGrow=i.autoSize&&h<c&&c<p,i.canShrink=!1,i.canExpand=!1,s-r<i.width||c-r<i.height?i.canExpand=!0:(s>o.w||e>o.h)&&d<s&&h<c&&(i.canShrink=!0),m.innerSpace=e-r-n.height()},_getPosition:function(e){var t=m.current,n=m.getViewport(),i=t.margin,o=m.wrap.width()+i[1]+i[3],a=m.wrap.height()+i[0]+i[2],r={position:"absolute",top:i[0]+n.y,left:i[3]+n.x};return(r=t.autoCenter&&t.fixed&&!e&&a<=n.h&&o<=n.w?{position:"fixed",top:i[0],left:i[3]}:r).top=g(Math.max(r.top,r.top+(n.h-a)*t.topRatio)),r.left=g(Math.max(r.left,r.left+.5*(n.w-o))),r},_afterZoomIn:function(){var t=m.current,e=t?t.scrolling:"no";t&&(m.isOpen=m.isOpened=!0,m.wrap.addClass("fancybox-opened"),m.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),m.trigger("afterShow"),m.update(),(t.closeClick||t.nextClick)&&m.inner.css("cursor","pointer").bind("click.fb",function(e){f(e.target).is("a")||f(e.target).parent().is("a")||m[t.closeClick?"close":"next"]()}),t.closeBtn&&f(t.tpl.closeBtn).appendTo(m.skin).bind("click.fb",m.close),t.arrows&&1<m.group.length&&((t.loop||0<t.index)&&f(t.tpl.prev).appendTo(m.outer).bind("click.fb",m.prev),(t.loop||t.index<m.group.length-1)&&f(t.tpl.next).appendTo(m.outer).bind("click.fb",m.next)),m.opts.autoPlay&&!m.player.isActive)&&(m.opts.autoPlay=!1,m.play())},_afterZoomOut:function(){var e=m.current;m.wrap.trigger("onReset").remove(),f.extend(m,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),m.trigger("afterClose",e)}}),m.transitions={getOrigPosition:function(){var e=m.current,t=e.element,n=e.padding,i=f(e.orig),o={},a=50,r=50;return!i.length&&e.isDom&&f(t).is(":visible")&&((i=f(t).find("img:first")).length||(i=f(t))),i.length?(o=i.offset(),i.is("img")&&(a=i.outerWidth(),r=i.outerHeight())):(e=m.getViewport(),o.top=e.y+.5*(e.h-r),o.left=e.x+.5*(e.w-a)),{top:g(o.top-n),left:g(o.left-n),width:g(a+2*n),height:g(r+2*n)}},step:function(e,t){var n,i=t.prop;"width"!==i&&"height"!==i||(n=Math.ceil(e-2*m.current.padding),"height"===i&&(e=(e-t.start)/(t.end-t.start),t.start>t.end&&(e=1-e),n-=m.innerSpace*e),m.inner[i](n))},zoomIn:function(){var e=m.wrap,t=m.current,n=t.openEffect,i="elastic"===n,o=f.extend({},t.dim,m._getPosition(i)),a=f.extend({opacity:1},o);delete a.position,i?(o=this.getOrigPosition(),t.openOpacity&&(o.opacity=0),m.outer.add(m.inner).width("auto").height("auto")):"fade"===n&&(o.opacity=0),e.css(o).show().animate(a,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:m._afterZoomIn})},zoomOut:function(){var e=m.wrap,t=m.current,n=t.openEffect,i="elastic"===n,o={opacity:0};i&&("fixed"===e.css("position")&&e.css(m._getPosition(!0)),o=this.getOrigPosition(),t.closeOpacity&&(o.opacity=0)),e.animate(o,{duration:"none"===n?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:m._afterZoomOut})},changeIn:function(){var e=m.wrap,t=m.current,n=t.nextEffect,i="elastic"===n,o=m._getPosition(i),a={opacity:1};o.opacity=0,i&&(o.top=g(parseInt(o.top,10)-200),a.top="+=200px"),e.css(o).show().animate(a,{duration:"none"===n?0:t.nextSpeed,easing:t.nextEasing,complete:m._afterZoomIn})},changeOut:function(){var e=m.wrap,t=m.current,n=t.prevEffect,i={opacity:0};e.removeClass("fancybox-opened"),"elastic"===n&&(i.top="+=200px"),e.animate(i,{duration:"none"===n?0:t.prevSpeed,easing:t.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}},m.helpers.overlay={overlay:null,update:function(){var e;this.overlay.width("100%").height("100%"),e=f.browser.msie||s?(e=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth))<Math.max(t.documentElement.offsetWidth,t.body.offsetWidth)?i.width():e:c.width(),this.overlay.width(e).height(c.height())},beforeShow:function(e){this.overlay||(e=f.extend(!0,{},m.defaults.helpers.overlay,e),this.overlay=f('<div id="fancybox-overlay"></div>').css(e.css).appendTo("body"),e.closeClick&&this.overlay.bind("click.fb",m.close),m.current.fixed&&!s?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(e.speedIn,e.opacity))},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||0,function(){f(this).remove()}),this.overlay=null}},m.helpers.title={beforeShow:function(e){var t;(t=m.current.title)&&(t=f('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+t+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),m.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?m.inner:"outside"===e.type?m.wrap:m.skin))}},f.fn.fancybox=function(o){function e(e){var t,n=this,i=s;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||f(n).is(".fancybox-wrap")||(e.preventDefault(),e=o.groupAttr||"data-fancybox-group",(t=(t=f(n).attr(e))?t:n[e="rel"])&&""!==t&&"nofollow"!==t&&(i=(n=(n=r.length?f(r):a).filter("["+e+'="'+t+'"]')).index(this)),o.index=i,m.open(n,o))}var a=f(this),r=this.selector||"",s=(o=o||{}).index||0;return r?c.undelegate(r,"click.fb-start").delegate(r,"click.fb-start",e):a.unbind("click.fb-start").bind("click.fb-start",e),this},f(t).ready(function(){m.defaults.fixed=f.support.fixedPosition||!(f.browser.msie&&f.browser.version<=6)&&!s})}(window,document,jQuery);