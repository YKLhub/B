!function(t){var i,n={},r={init:function(e){return i=this,n={token:!1,query_param:"query"},e&&t.extend(n,e),n.token&&""!=n.query_param&&t.getJSON("http://tapirgo.com/api/1/search.json?token="+n.token+"&query="+function(e){e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return!!e&&e[1]}(n.query_param)+"&callback=?",function(r){n.complete&&n.complete(),t.each(r,function(e,t){document.getElementById("search_results").style.display="block",document.getElementById("search_results").style.height="100%",document.getElementById("search_results").style.overflow="hidden";var n=(n=t.content.substr(1,250)).substr(0,Math.min(n.length,n.lastIndexOf(" ")));i.append('<div id="content" class="inner"><article class="post"><h2 class="title"><a href="'+t.link+'">'+t.title+'</a></h2><div class="entry-content"><div class="date">Published on: '+t.published_on.substr(0,10)+"</div></div><br><p>"+n+'...</p><br><a href="'+t.link+'">Read on &rarr;</a></article></div>'),e>=r.length-1&&i.append('<div id="content" class="inner"><center><h2 style="border-bottom: 1px solid #ddd;">Result ends</h2></center><br><br></div>')})}),this}};t.fn.tapir=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.tapir"):r.init.apply(this,arguments)}}(jQuery);